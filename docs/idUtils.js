import{db}from"./db.js";export function generatePatientID(e=new Date){const t=db.facility?.regionName?.replace(/[^A-Za-z]/g,"").slice(0,2).toUpperCase()||"RG",a=db.facility?.districtName?.replace(/[^A-Za-z]/g,"").slice(0,3).toUpperCase()||"DST",i=db.facility?.name?.replace(/[^A-Za-z]/g,"").slice(0,2).toUpperCase()||"FC";let n;do{n=String(Math.floor(1e5+9e5*Math.random()))}while(db.patients&&db.patients.some(e=>e.patientID?.includes(n)));const o=(t+a+i+n).split("");for(let e=o.length-1;e>0;e--){const t=Math.floor(Math.random()*(e+1));[o[e],o[t]]=[o[t],o[e]]}const r=String(new Date(e).getFullYear()).slice(-2);return`${o.join("")}${r}`}